{"remainingRequest":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/babel-loader/lib/index.js!/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/ts-loader/index.js??ref--14-2!/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/eslint-loader/index.js??ref--13-0!/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/src/store/modules/app.ts","dependencies":[{"path":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/src/store/modules/app.ts","mtime":1593601303545},{"path":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4gfSBmcm9tICJAL2FwaS9sb2dpbiI7CmltcG9ydCB7IENPT0tJRSB9IGZyb20gIkAvdXRpbHMvY29uc3RhbnQiOwppbXBvcnQgY29va2llIGZyb20gImNvb2tpZV9qcyI7CnZhciBzdGF0ZSA9IHsKICBhc2lkZUNvbGxhcHNlOiBldmFsKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFzaWRlQ29sbGFwc2UiKSB8fCAiZmFsc2UiKSwKICB0b2tlbjogY29va2llLmdldChDT09LSUUudG9rZW4pLAogIHVzZXJuYW1lOiBjb29raWUuZ2V0KENPT0tJRS51c2VybmFtZSkKfSwKICAgIGdldHRlcnMgPSB7CiAgYXNpZGVDb2xsYXBzZTogZnVuY3Rpb24gYXNpZGVDb2xsYXBzZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFzaWRlQ29sbGFwc2U7CiAgfQp9LAogICAgbXV0YXRpb25zID0gewogIFRPR0dMRV9BU0lERTogZnVuY3Rpb24gVE9HR0xFX0FTSURFKHN0YXRlKSB7CiAgICBzdGF0ZS5hc2lkZUNvbGxhcHNlID0gIXN0YXRlLmFzaWRlQ29sbGFwc2U7CiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhc2lkZUNvbGxhcHNlIiwgc3RhdGUuYXNpZGVDb2xsYXBzZS50b1N0cmluZygpKTsKICB9LAogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUudG9rZW4gPSB2YWx1ZTsKICAgIGNvb2tpZS5zZXQoQ09PS0lFLnRva2VuLCB2YWx1ZSk7CiAgfSwKICBTRVRfVVNFUjogZnVuY3Rpb24gU0VUX1VTRVIoc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS51c2VybmFtZSA9IHZhbHVlOwogICAgY29va2llLnNldChDT09LSUUudXNlcm5hbWUsIHZhbHVlKTsKICB9LAogIExPR0lOX09GRjogZnVuY3Rpb24gTE9HSU5fT0ZGKHN0YXRlKSB7CiAgICBzdGF0ZS50b2tlbiA9ICIiOwogICAgc3RhdGUudXNlcm5hbWUgPSAiIjsKICAgIGNvb2tpZS5yZW1vdmUoQ09PS0lFLnVzZXJuYW1lLCBDT09LSUUudG9rZW4pOwogIH0KfSwKICAgIGFjdGlvbnMgPSB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICB2YXIgZW1haWwgPSBfcmVmMi5lbWFpbCwKICAgICAgICBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkLAogICAgICAgIGF1dGhDb2RlID0gX3JlZjIuYXV0aENvZGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9naW4oZW1haWwsIHBhc3N3b3JkLCBhdXRoQ29kZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoIlNFVF9UT0tFTiIsIHJlc3BvbnNlLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgY29tbWl0KCJTRVRfVVNFUiIsIHJlc3BvbnNlLmRhdGEuZGF0YS51c2VybmFtZSk7CiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/node_modules/eslint-loader/index.js??ref--13-0!/Users/alfredmcporkchop/Documents/WorkSpace/Vue-Study/demo/src/store/modules/app.ts"],"names":[],"mappings":";;AACA,SAAS,KAAK,IAAL,MAAT,QAAsB,aAAtB;AAGA,SAAS,MAAT,QAAuB,kBAAvB;AACA,OAAO,MAAP,MAAmB,WAAnB;AAEA,IAAM,KAAK,GAAa;AACpB,EAAA,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,OAAf,CAAuB,eAAvB,KAA2C,OAA5C,CADC;AAEpB,EAAA,KAAK,EAAE,MAAM,CAAC,GAAP,CAAW,MAAM,CAAC,KAAlB,CAFa;AAGpB,EAAA,QAAQ,EAAE,MAAM,CAAC,GAAP,CAAW,MAAM,CAAC,QAAlB;AAHU,CAAxB;AAAA,IAKE,OAAO,GAAkC;AACvC,EAAA,aAAa,EAAE,uBAAA,KAAK;AAAA,WAAI,KAAK,CAAC,aAAV;AAAA;AADmB,CAL3C;AAAA,IAQE,SAAS,GAA2B;AAClC,EAAA,YAAY,EAAE,sBAAA,KAAK,EAAG;AACpB,IAAA,KAAK,CAAC,aAAN,GAAsB,CAAC,KAAK,CAAC,aAA7B;AACA,IAAA,cAAc,CAAC,OAAf,CAAuB,eAAvB,EAAwC,KAAK,CAAC,aAAN,CAAoB,QAApB,EAAxC;AACD,GAJiC;AAKlC,EAAA,SAAS,EAAE,mBAAC,KAAD,EAAQ,KAAR,EAAiB;AAC1B,IAAA,KAAK,CAAC,KAAN,GAAc,KAAd;AACA,IAAA,MAAM,CAAC,GAAP,CAAW,MAAM,CAAC,KAAlB,EAAyB,KAAzB;AACD,GARiC;AASlC,EAAA,QAAQ,EAAE,kBAAC,KAAD,EAAQ,KAAR,EAAiB;AACzB,IAAA,KAAK,CAAC,QAAN,GAAiB,KAAjB;AACA,IAAA,MAAM,CAAC,GAAP,CAAW,MAAM,CAAC,QAAlB,EAA4B,KAA5B;AACD,GAZiC;AAalC,EAAA,SAAS,EAAE,mBAAA,KAAK,EAAG;AACjB,IAAA,KAAK,CAAC,KAAN,GAAc,EAAd;AACA,IAAA,KAAK,CAAC,QAAN,GAAiB,EAAjB;AACA,IAAA,MAAM,CAAC,MAAP,CAAc,MAAM,CAAC,QAArB,EAA+B,MAAM,CAAC,KAAtC;AACD;AAjBiC,CARtC;AAAA,IA2BE,OAAO,GAAkC;AACvC,EAAA,KADuC,8BACoB;AAAA,QAAnD,MAAmD,QAAnD,MAAmD;AAAA,QAAvC,KAAuC,SAAvC,KAAuC;AAAA,QAAhC,QAAgC,SAAhC,QAAgC;AAAA,QAAtB,QAAsB,SAAtB,QAAsB;AACzD,WAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACrC,MAAA,MAAK,CAAC,KAAD,EAAQ,QAAR,EAAkB,QAAlB,CAAL,CACG,IADH,CACQ,UAAA,QAAQ,EAAG;AACf,QAAA,MAAM,CAAC,WAAD,EAAc,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,KAAjC,CAAN;AACA,QAAA,MAAM,CAAC,UAAD,EAAa,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,QAAhC,CAAN;AACA,QAAA,OAAO,CAAC,QAAD,CAAP;AACD,OALH,EAMG,KANH,CAMS,UAAA,KAAK,EAAG;AACb,QAAA,MAAM,CAAC,KAAD,CAAN;AACD,OARH;AASD,KAVM,CAAP;AAWD;AAbsC,CA3B3C;AA2CA,eAAe;AACb,EAAA,UAAU,EAAE,IADC;AAEb,EAAA,KAAK,EAAL,KAFa;AAGb,EAAA,OAAO,EAAP,OAHa;AAIb,EAAA,SAAS,EAAT,SAJa;AAKb,EAAA,OAAO,EAAP;AALa,CAAf","sourcesContent":["import { GetterTree, MutationTree, ActionTree } from \"vuex\";\nimport { login } from \"@/api/login\";\nimport { LoginParam } from \"@/types/views/login\";\nimport { AppState } from \"../../types/store/app\";\nimport { COOKIE } from \"@/utils/constant\";\nimport cookie from \"cookie_js\";\n\nconst state: AppState = {\n    asideCollapse: eval(sessionStorage.getItem(\"asideCollapse\") || \"false\"),\n    token: cookie.get(COOKIE.token),\n    username: cookie.get(COOKIE.username)\n  },\n  getters: GetterTree<AppState, unknown> = {\n    asideCollapse: state => state.asideCollapse\n  },\n  mutations: MutationTree<AppState> = {\n    TOGGLE_ASIDE: state => {\n      state.asideCollapse = !state.asideCollapse;\n      sessionStorage.setItem(\"asideCollapse\", state.asideCollapse.toString());\n    },\n    SET_TOKEN: (state, value) => {\n      state.token = value;\n      cookie.set(COOKIE.token, value);\n    },\n    SET_USER: (state, value) => {\n      state.username = value;\n      cookie.set(COOKIE.username, value);\n    },\n    LOGIN_OFF: state => {\n      state.token = \"\";\n      state.username = \"\";\n      cookie.remove(COOKIE.username, COOKIE.token);\n    }\n  },\n  actions: ActionTree<AppState, unknown> = {\n    login({ commit }, { email, password, authCode }: LoginParam) {\n      return new Promise((resolve, reject) => {\n        login(email, password, authCode)\n          .then(response => {\n            commit(\"SET_TOKEN\", response.data.data.token);\n            commit(\"SET_USER\", response.data.data.username);\n            resolve(response);\n          })\n          .catch(error => {\n            reject(error);\n          });\n      });\n    }\n  };\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n"],"sourceRoot":""}]}